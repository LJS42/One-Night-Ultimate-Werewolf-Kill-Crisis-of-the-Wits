# 一夜终极狼人杀：智械危机 🐺🤖

欢迎来到《一夜终极狼人杀：智械危机》！

这是一个只进行一夜的狼人杀游戏，融合了身份隐藏、ID 保密、人与智械之间的深度博弈。每一局都是一场心理战与逻辑推理的较量！

---

## 🎯 游戏概述

- 游戏仅进行 **一夜**。
- 玩家人数为 **N**，使用 **N + 3 张身份牌**。
- 每位玩家进入游戏后会获得一个唯一的 **玩家 ID（数字）**。
- **玩家 ID 是保密的**，不能告诉其他人。
- 所有技能使用与推理都**基于 ID 而不是玩家名字**。

---

## 🧠 游戏目标与得分机制

### 🆔 玩家 ID 推理机制

| 行为                         | 分数变动       |
|------------------------------|----------------|
| 猜中任意玩家的 ID            | +50 分         |
| 自己的 ID 被别人猜中         | -150 分        |

---

### 🤖 人类 vs 机器人

| 推理结果                     | 得分           |
|------------------------------|----------------|
| 推理出机器人ID          | 人类 +100 分   |
| 没推理出机器人ID     | 机器人助手 +200 分 |

---

### 🐺 狼人 vs 人类

| 获胜方        | 得分       |
|----------------|------------|
| 狼人阵营胜利    | 狼人 +100 分 |
| 人类阵营胜利    | 人类 +100 分 |

---

### 🏆 最终胜者

所有得分加总，**分数最高的玩家为本局胜者**。

---

## 🎭 游戏身份与阵营

- 游戏开始时，系统从身份池中 **随机抽取 N+3 张牌**
  - N 张发给玩家
  - 3 张放在**桌面中央，面朝下**

### 身份示例

- 狼人、爪牙、守夜人、预言家、强盗、捣蛋鬼、酒鬼、失眠者等

---

### 🧍 阵营划分

| 阵营       | 成员角色                           |
|------------|------------------------------------|
| 狼人阵营    | 狼人、爪牙                         |
| 人类阵营    | 村民、守夜人、预言家、强盗等         |
| 智械阵营    | 机器人、机器人助手（隐藏阵营）     |

---

## 🌙 夜晚流程（技能执行顺序）

夜晚阶段由系统依次唤醒拥有技能的角色，执行其技能操作。

**顺序如下：**

狼人 → 爪牙 → 守夜人 → 预言家 → 强盗 → 捣蛋鬼 → 酒鬼 → 失眠者


---

## ✨ 技能使用说明

- **狼人 / 守夜人**
  - 能看到同伴的**名字**，但无法知道同伴的 **ID**
  - 若发现同伴为机器人，视为**独狼 / 单人守夜人**

- **预言家**
  - 只能通过输入一个 ID 查看其身份
  - **不能知道该 ID 对应的是哪个玩家**

- **强盗 / 捣蛋鬼**
  - 所有交换操作必须 **基于 ID**
  - **不能使用名字进行操作**

- **机器人助手**
  - 若玩家未正确推理出智械身份，将获得 **巨额分数**

---

## 📦 游戏流程简要

1. 系统洗混 N+3 张身份牌
2. 发放 N 张牌给玩家，3 张放桌面中央
3. 玩家查看自己身份（面朝下放好）
4. 系统唤醒技能角色按顺序执行技能
5. 白天开始，全体玩家发言推理
6. 第一轮发言结束，玩家开始进行测试
7. 揭晓测试结果，玩家根据测试结果进行讨论
8. 进行两轮投票（如果玩家人数在5人及以下，则只有一轮投票），在两轮投票之内投出几号玩家是机器人
10. 两轮投票结束，直接公布机器人ID，没有讨论环节，玩家之间开始投选狼人
11. **分数最高者获胜！**

---

## 🧑‍💻 技术说明

该项目由 Rust 编写，基于高性能异步通信设计，适合 LAN 多人联机：

- 使用 [`tokio`](https://docs.rs/tokio) 实现异步 TCP 通信
- 多线程并发模型
- 支持未来拓展：
  - 局域网联机
  - 图形化用户界面（GUI）
  - AI 玩家智能推理

---

## 📜 License

MIT License - 可自由使用、修改与传播。欢迎 star ⭐ 和 PR！

---

欢迎加入智械危机，一起头脑风暴！🧠💥
